<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çº¢å¿ƒé“¸é­‚Eç©ºé—´ - æ²‰æµ¸å¼ç½‘ç»œæ–‡æ˜å…±å»ºå¹³å°</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* --- 1. è®¾è®¡ç³»ç»Ÿ (Design System) --- */
        :root {
            --primary: #b71c1c; /* å…šçš„æ·±çº¢ */
            --primary-dark: #8E0E00;
            --accent: #ffc107; /* è£è€€é‡‘ */
            --text-dark: #2c3e50;
            --text-gray: #546e7a;
            --bg-body: #f8f9fa;
            --glass-white: rgba(255, 255, 255, 0.92);
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.1);
            --shadow-sm: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "PingFang SC", "Microsoft YaHei", sans-serif; }
        body { background-color: var(--bg-body); color: var(--text-dark); overflow-x: hidden; }
        
        /* æ»šåŠ¨æ¡ç¾åŒ– */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 4px; }

        /* --- 2. å¤´éƒ¨ Hero Section (é«˜çº§è§†å·®èƒŒæ™¯) --- */
        .header {
            position: relative; height: 92vh; 
            background: linear-gradient(135deg, rgba(142, 14, 0, 0.85), rgba(31, 28, 24, 0.9)),
                        url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed; /* è§†å·®æ•ˆæœ */
            color: white; display: flex; flex-direction: column; justify-content: center; align-items: center;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 50% 100%, 0 90%);
            margin-bottom: 60px; overflow: hidden;
        }
        
        #particleCanvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0.3; }

        .header-content { z-index: 2; text-align: center; animation: fadeInUp 1s ease; }
        .logo-main { 
            font-size: 5.5rem; font-weight: 900; margin-bottom: 15px; letter-spacing: 8px;
            background: linear-gradient(to bottom, #fff 30%, var(--accent) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.5));
        }
        .subtitle { font-size: 1.6rem; opacity: 0.95; font-weight: 300; letter-spacing: 4px; text-transform: uppercase; margin-bottom: 50px; }
        
        .btn-hero {
            padding: 18px 50px; border: 1px solid rgba(255,255,255,0.3); color: var(--accent);
            background: rgba(0,0,0,0.4); font-size: 1.2rem; font-weight: bold; border-radius: 50px;
            cursor: pointer; transition: 0.4s; text-decoration: none; display: inline-block;
            backdrop-filter: blur(5px); letter-spacing: 2px;
        }
        .btn-hero:hover { background: var(--accent); color: #8E0E00; box-shadow: 0 0 30px rgba(255, 193, 7, 0.4); border-color: var(--accent); }

        /* --- 3. å¯¼èˆªæ  (æ‚¬æµ®ç»ç’ƒ) --- */
        .nav {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 1100px; 
            background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(15px);
            padding: 15px 40px; border-radius: 50px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 1000;
            border: 1px solid rgba(255,255,255,0.5); transition: 0.3s;
        }
        .nav-brand { font-weight: 800; color: var(--primary); font-size: 1.3rem; display: flex; align-items: center; gap: 8px; letter-spacing: 1px; }
        .nav-links a { text-decoration: none; color: var(--text-dark); margin-left: 20px; font-weight: 600; transition: 0.3s; font-size: 0.95rem; position: relative; }
        .nav-links a:hover { color: var(--primary); }
        .nav-links a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0%; height: 2px; background: var(--primary); transition: 0.3s; }
        .nav-links a:hover::after { width: 100%; }

        /* --- 4. é€šç”¨å®¹å™¨ & åŒºå—èƒŒæ™¯ --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .section { padding: 80px 0; position: relative; }
        
        /* èƒŒæ™¯è£…é¥° */
        #data {
            background: linear-gradient(to bottom, rgba(255,255,255,0.95), rgba(255,255,255,0.9)),
                        url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2000&auto=format&fit=crop');
            background-attachment: fixed; background-size: cover;
        }
        #voice {
            background-color: #fff5f5;
            background-image: radial-gradient(var(--primary-dark) 0.5px, transparent 0.5px);
            background-size: 20px 20px; opacity: 0.95;
        }

        .section-title { text-align: center; margin-bottom: 60px; }
        .section-title h2 { 
            font-size: 2.5rem; color: var(--primary); display: inline-block; position: relative; 
            margin-bottom: 10px; font-weight: 800;
        }
        .section-title h2::after {
            content: ''; display: block; width: 60px; height: 4px; background: var(--accent);
            margin: 10px auto 0; border-radius: 2px;
        }

        /* --- 5. ç»Ÿè®¡å¡ç‰‡ (æ‚¬æµ®) --- */
        .stats-grid { 
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px; 
            margin-top: -100px; position: relative; z-index: 10; 
        }
        .stat-card {
            background: var(--glass-white); padding: 40px 20px; border-radius: 20px; text-align: center;
            box-shadow: var(--shadow-lg); transition: 0.4s; border-bottom: 5px solid var(--primary);
            backdrop-filter: blur(10px);
        }
        .stat-card:hover { transform: translateY(-15px); }
        .stat-num { font-size: 3rem; font-weight: 900; color: var(--primary); margin-bottom: 5px; font-family: 'Arial Black'; }
        .stat-label { font-size: 0.9rem; color: var(--text-gray); text-transform: uppercase; letter-spacing: 1px; font-weight: bold; }

        /* --- ç®€ä»‹ --- */
        .intro-box { 
            background: white; padding: 50px; border-radius: 20px; 
            border-left: 10px solid var(--primary); box-shadow: var(--shadow-sm); 
            font-size: 1.1rem; line-height: 2; text-align: justify; color: #444;
        }

        /* --- ç†è®ºæ¡†æ¶ --- */
        .framework-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }
        .framework-card { 
            background: white; padding: 40px 30px; border-radius: 20px; text-align: center; transition: 0.4s; 
            border: 1px solid #eee; position: relative; overflow: hidden;
        }
        .framework-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent)); transform: scaleX(0); transition: 0.4s;
        }
        .framework-card:hover { transform: translateY(-10px); box-shadow: var(--shadow-lg); }
        .framework-card:hover::before { transform: scaleX(1); }
        
        .icon-circle { 
            width: 80px; height: 80px; background: linear-gradient(135deg, var(--primary), #d32f2f); 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
            margin: 0 auto 25px; color: white; font-size: 2rem; box-shadow: 0 10px 20px rgba(183, 28, 28, 0.3); 
        }
        .framework-card h3 { color: var(--text-dark); margin-bottom: 15px; font-size: 1.4rem; }
        .framework-card p { color: var(--text-gray); font-size: 1rem; line-height: 1.6; }

        /* --- ç†è®ºå®è·µ --- */
        .impl-list { display: flex; flex-direction: column; gap: 20px; }
        .impl-item { 
            background: white; padding: 30px; border-radius: 15px; display: grid; 
            grid-template-columns: 220px 1fr; gap: 30px; border-left: 5px solid var(--accent); 
            box-shadow: var(--shadow-sm); align-items: center; transition: 0.3s;
        }
        .impl-item:hover { transform: translateX(10px); box-shadow: var(--shadow-lg); }
        .impl-title { font-size: 1.3rem; font-weight: bold; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .impl-details { font-size: 1rem; color: #555; line-height: 1.8; }
        .impl-tag { background: #fff3e0; color: #e65100; padding: 3px 10px; border-radius: 4px; font-size: 0.85rem; font-weight: bold; margin-right: 8px; }

        /* --- ç†è®ºç­”é¢˜ --- */
        .theory-layout { display: grid; grid-template-columns: 1.5fr 1fr; gap: 40px; }
        .quiz-card { 
            background: white; padding: 40px; border-radius: 20px; 
            box-shadow: var(--shadow-lg); border: 1px solid rgba(0,0,0,0.05); min-height: 350px; 
            display: flex; flex-direction: column; justify-content: center;
        }
        .quiz-btn {
            display: block; width: 100%; padding: 18px; margin: 10px 0; border: 2px solid #f0f0f0;
            background: white; border-radius: 12px; cursor: pointer; transition: 0.2s; text-align: left;
            font-size: 1.05rem; color: #555; font-weight: 500;
        }
        .quiz-btn:hover { border-color: var(--primary); background: #fffbfb; color: var(--primary); transform: translateX(5px); }
        
        /* --- æ•°æ®æ´å¯Ÿ --- */
        .data-card { background: var(--glass-white); padding: 50px; border-radius: 25px; box-shadow: var(--shadow-lg); backdrop-filter: blur(10px); }
        .survey-action { 
            text-align: center; background: linear-gradient(135deg, #fff3e0, #fff); 
            padding: 40px; border-radius: 20px; border: 2px dashed var(--accent); margin-bottom: 50px; 
        }
        .chart-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; }
        .chart-box { height: 350px; position: relative; background: white; padding: 20px; border-radius: 15px; box-shadow: var(--shadow-sm); }

        /* --- æ‰¿è¯ºä¹¦ --- */
        .pledge-paper {
            background: url("https://www.transparenttextures.com/patterns/cream-paper.png"), #fffdf5;
            padding: 80px; border-radius: 8px; border: 12px double var(--primary); 
            max-width: 900px; margin: 0 auto; position: relative; box-shadow: 0 30px 60px rgba(0,0,0,0.1);
        }
        .pledge-title { font-family: "æ¥·ä½“"; font-size: 2.5rem; color: var(--primary-dark); margin-bottom: 40px; font-weight: bold; }
        .pledge-content { font-size: 1.3rem; line-height: 2.2; font-family: "æ¥·ä½“"; text-align: left; padding: 0 60px; color: #333; }
        .seal-mark {
            width: 160px; height: 160px; border: 5px solid var(--primary); border-radius: 50%;
            position: absolute; bottom: 50px; right: 50px; color: var(--primary);
            display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.5rem;
            transform: rotate(-20deg) scale(2); opacity: 0; transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none; text-shadow: 0 0 2px var(--primary);
            box-shadow: inset 0 0 20px rgba(183, 28, 28, 0.2);
        }
        .seal-mark.active { opacity: 0.9; transform: rotate(-20deg) scale(1); }

        /* --- ç•™è¨€å¢™ --- */
        .message-wall {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px;
            max-height: 650px; overflow-y: auto; padding: 25px; background: white; border-radius: 20px;
            border: 1px solid #eee; margin-top: 40px; box-shadow: inset 0 0 20px rgba(0,0,0,0.02);
        }
        .message-card {
            background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            animation: zoomIn 0.5s ease; border-left: 4px solid var(--accent); display: flex; flex-direction: column;
            transition: 0.3s;
        }
        .message-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .message-header { display: flex; align-items: center; margin-bottom: 15px; }
        .message-avatar {
            width: 40px; height: 40px; background: var(--primary); color: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 12px;
            font-size: 1.1rem;
        }
        .message-name { font-weight: bold; color: var(--text-dark); font-size: 1rem; }
        .message-time { font-size: 0.75rem; color: #aaa; margin-left: auto; }
        .message-body { color: #555; font-size: 1rem; line-height: 1.6; word-break: break-all; }

        .input-area {
            background: white; padding: 35px; border-radius: 20px; box-shadow: var(--shadow-lg);
            display: flex; gap: 20px; align-items: flex-start;
        }
        textarea {
            flex: 1; padding: 15px; border: 2px solid #eee; border-radius: 12px; font-size: 1rem;
            resize: none; transition: 0.3s; min-height: 80px;
        }
        textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(183, 28, 28, 0.1); }

        /* --- å…‰å½±ç”»å»Š (6å¼ å›¾) --- */
        .gallery-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px;
        }
        .gallery-item {
            position: relative; border-radius: 15px; overflow: hidden; height: 260px;
            box-shadow: var(--shadow-sm); cursor: pointer;
        }
        .gallery-img {
            width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .gallery-item:hover .gallery-img { transform: scale(1.15); }
        .gallery-overlay {
            position: absolute; bottom: 0; left: 0; width: 100%; padding: 25px;
            background: linear-gradient(to top, rgba(183, 28, 28, 0.9), transparent);
            color: white; opacity: 0; transform: translateY(20px); transition: 0.4s ease;
        }
        .gallery-item:hover .gallery-overlay { opacity: 1; transform: translateY(0); }
        .gallery-title { font-weight: bold; font-size: 1.2rem; margin-bottom: 5px; color: var(--accent); }
        .gallery-desc { font-size: 0.9rem; opacity: 0.9; }

        /* --- èµ„æºåº“ --- */
        .resource-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }
        .resource-card {
            background: white; padding: 40px 30px; border-radius: 20px; text-align: center;
            border: 1px solid #eee; transition: 0.3s; position: relative; overflow: hidden;
        }
        .resource-card::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: #eee; transition: 0.3s;
        }
        .resource-card:hover { transform: translateY(-10px); box-shadow: var(--shadow-lg); }
        .resource-card:hover::after { background: var(--primary); }

        /* æŒ‰é’®ä¸è¡¨å• */
        .btn {
            background: var(--primary); color: white; padding: 12px 35px; border: none; border-radius: 30px;
            font-size: 1.05rem; font-weight: bold; cursor: pointer; transition: 0.3s; display: inline-flex; align-items: center; gap: 8px; text-decoration: none;
            box-shadow: 0 5px 15px rgba(183, 28, 28, 0.3);
        }
        .btn:hover { background: var(--primary-dark); transform: translateY(-2px); box-shadow: 0 8px 20px rgba(183, 28, 28, 0.4); }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); box-shadow: none; }
        .btn-outline:hover { background: var(--primary); color: white; }
        
        .input-group { display: flex; gap: 15px; justify-content: center; margin-top: 40px; }
        input { padding: 15px; border: 2px solid #ddd; border-radius: 8px; width: 250px; transition: 0.3s; font-size: 1rem; }
        input:focus { border-color: var(--primary); outline: none; }

        /* å¼¹çª— */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 3000; backdrop-filter: blur(8px); }
        .modal-content { background: white; padding: 40px; border-radius: 25px; width: 90%; max-width: 450px; text-align: center; animation: zoomIn 0.3s; border-top: 6px solid var(--primary); box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        
        /* å›¾ç‰‡é¢„è§ˆå¼¹çª— */
        #imgModal .modal-content { max-width: 900px; background: transparent; box-shadow: none; border: none; padding: 0; }
        #imgModal img { width: 100%; border-radius: 15px; box-shadow: 0 20px 60px rgba(0,0,0,0.6); border: 4px solid white; }

        @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @media (max-width: 768px) { 
            .header { height: 60vh; } .logo-main { font-size: 3rem; } 
            .stats-grid, .theory-layout, .chart-grid, .resource-grid, .framework-grid, .impl-item, .gallery-grid { grid-template-columns: 1fr; } 
            .nav-links { display: none; } 
            .pledge-content { padding: 0 20px; }
        }

        /* --- è‰ºæœ¯çº§é¡µè„š (Artistic Footer) --- */
        .footer-artistic {
            position: relative;
            background: linear-gradient(to bottom, #8E0E00, #1a0505);
            color: rgba(255, 255, 255, 0.8);
            padding: 80px 0 50px;
            margin-top: 100px;
            text-align: center;
            overflow: hidden;
            /* é¡¶éƒ¨æ³¢æµªåˆ‡å‰² */
            clip-path: polygon(0 15%, 100% 0, 100% 100%, 0% 100%);
        }
        /* åº•éƒ¨å…‰æ™• */
        .footer-artistic::before {
            content: ''; position: absolute; bottom: -50%; left: 50%; transform: translateX(-50%);
            width: 80%; height: 80%;
            background: radial-gradient(circle, rgba(255, 193, 7, 0.15), transparent 70%);
            pointer-events: none;
        }

        .footer-title {
            font-size: 2.2rem;
            font-weight: 900;
            margin-bottom: 10px;
            letter-spacing: 2px;
            background: linear-gradient(to right, #fff, #ffc107);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .footer-info {
            font-size: 1.1rem;
            margin-bottom: 40px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* æˆå‘˜å¡ç‰‡å®¹å™¨ */
        .team-container {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
            margin-bottom: 50px;
        }

        /* æˆå‘˜å¡ç‰‡ */
        .team-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1rem;
            color: #fff;
            transition: all 0.3s ease;
            cursor: default;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .team-card i { color: var(--accent); }

        .team-card:hover {
            background: rgba(255, 193, 7, 0.2);
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        .back-to-top {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.6);
            padding: 10px 25px;
            border-radius: 30px;
            cursor: pointer;
            transition: 0.3s;
        }
        .back-to-top:hover {
            background: white;
            color: #8E0E00;
        }
    </style>
</head>
<body>

    <nav class="nav">
        <div class="nav-brand"><i class="fas fa-star"></i> çº¢å¿ƒé“¸é­‚ E-SPACE</div>
        <div class="nav-links">
            <a href="#intro">å¹³å°ç®€ä»‹</a>
            <a href="#framework">ç†è®ºæ¡†æ¶</a>
            <a href="#data">æ•°å­—æ´å¯Ÿ</a>
            <a href="#pledge">æ–‡æ˜å¥‘çº¦</a>
            <a href="#voice">ç•™è¨€å¢™</a>
            <a href="#gallery">å…±å»ºé£é‡‡</a>
        </div>
    </nav>

    <header class="header">
        <canvas id="particleCanvas"></canvas>
        <div class="header-content">
            <h1 class="logo-main">è¡ŒçŸ¥æ¸…æœ—</h1>
            <p class="subtitle">ç§‘å­¦å‘å±•è§‚å¼•é¢† Â· æ²‰æµ¸å¼ç½‘ç»œæ–‡æ˜å…±å»ºå¹³å°</p>
            <a href="#pledge" class="btn-hero">ç«‹å³åŠ å…¥è¡ŒåŠ¨</a>
        </div>
    </header>

    <div class="container">
        <div class="stats-grid">
            <div class="stat-card"><div class="stat-num" id="visitCount">2024</div><p class="stat-label">ç´¯è®¡è®¿é—®äººæ¬¡</p></div>
            <div class="stat-card"><div class="stat-num" id="pledgeCount">520</div><p class="stat-label">ç­¾ç½²æ–‡æ˜æ‰¿è¯º</p></div>
            <div class="stat-card"><div class="stat-num">152</div><p class="stat-label">æœ‰æ•ˆé—®å·æ ·æœ¬</p></div>
            <div class="stat-card"><div class="stat-num">100%</div><p class="stat-label">å…¨å‘˜è¦†ç›–</p></div>
        </div>

        <div class="section" id="intro">
            <div class="section-title"><h2>å¹³å°ç®€ä»‹</h2><p>Introduction</p></div>
            <div class="intro-box">
                <p>â€œçº¢å¿ƒé“¸é­‚Eç©ºé—´â€æ˜¯æµ™æ±Ÿå¸ˆèŒƒå¤§å­¦è¡ŒçŸ¥å­¦é™¢ã€Šæ¯›æ³½ä¸œæ€æƒ³å’Œä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³æ¦‚è®ºã€‹è¯¾ç¨‹å®è·µé¡¹ç›®ã€‚å¹³å°åšæŒä»¥<strong>ç§‘å­¦å‘å±•è§‚</strong>ä¸ºæŒ‡å¯¼ï¼Œæ·±å…¥è´¯å½»è½å®ç½‘ç»œå¼ºå›½é‡è¦æ€æƒ³ï¼Œæ—¨åœ¨é€šè¿‡â€œç†è®º+æŠ€æœ¯+å®è·µâ€çš„èåˆæ¨¡å¼ï¼Œæ„å»ºç§‘å­¦ã€æ–‡æ˜ã€å’Œè°çš„æ ¡å›­ç½‘ç»œç”Ÿæ€ï¼Œå¼•å¯¼å¤§å­¦ç”Ÿæ ‘ç«‹æ­£ç¡®çš„ç½‘ç»œä»·å€¼è§‚ï¼Œäº‰åšæ–°æ—¶ä»£ç½‘ç»œæ–‡æ˜çš„å®ˆæŠ¤è€…ã€‚</p>
            </div>
        </div>

        <div class="section" id="framework">
            <div class="section-title"><h2>æˆ‘ä»¬çš„ç†è®ºæ¡†æ¶</h2><p>Theoretical Framework</p></div>
            <div class="framework-grid">
                <div class="framework-card">
                    <div class="icon-circle"><i class="fas fa-book"></i></div>
                    <h3>ä»·å€¼å¼•é¢†å±‚</h3>
                    <p>ç¡®ç«‹æ­£ç¡®çš„ç½‘ç»œä»·å€¼è§‚<br>åšæŒä»¥äººä¸ºæœ¬ï¼Œå¼˜æ‰¬æ­£èƒ½é‡</p>
                </div>
                <div class="framework-card">
                    <div class="icon-circle"><i class="fas fa-handshake"></i></div>
                    <h3>å…³ç³»åè°ƒå±‚</h3>
                    <p>æ„å»ºå’Œè°çš„ç½‘ç»œç¤¾ä¼šå…³ç³»<br>å€¡å¯¼ç†æ€§äº¤æµï¼Œæ‹’ç»ç½‘ç»œæš´åŠ›</p>
                </div>
                <div class="framework-card">
                    <div class="icon-circle"><i class="fas fa-balance-scale"></i></div>
                    <h3>æœºåˆ¶ä¿éšœå±‚</h3>
                    <p>å»ºç«‹é•¿æ•ˆçš„è¿è¡Œä¿éšœæœºåˆ¶<br>é€šè¿‡å¥‘çº¦ä¸æŠ€æœ¯è§„èŒƒè¡Œä¸º</p>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title"><h2>ç†è®ºåœ¨å¹³å°ä¸­çš„ä½“ç°</h2><p>Implementation</p></div>
            <div class="impl-list">
                <div class="impl-item">
                    <div class="impl-title"><i class="fas fa-graduation-cap" style="color:var(--primary)"></i> ç†è®ºå­¦ä¹ æ¨¡å—</div>
                    <div class="impl-details">
                        <p><span class="impl-tag">å¯¹åº”ç†è®º</span> ä»·å€¼å¼•é¢†å±‚</p>
                        <p><strong>è®¾è®¡ç†å¿µï¼š</strong>é€šè¿‡æƒå¨å­¦ä¹ èµ„æºï¼Œå¸®åŠ©å­¦ç”Ÿæ ‘ç«‹æ­£ç¡®çš„ç½‘ç»œä»·å€¼è§‚ã€‚</p>
                        <p><strong>å¹³å°å®ç°ï¼š</strong>é“¾æ¥å­¦ä¹ å¼ºå›½ã€å…šå‘˜ç½‘ï¼Œæä¾›çŸ¥è¯†è‡ªæµ‹ã€‚</p>
                    </div>
                </div>
                <div class="impl-item">
                    <div class="impl-title"><i class="fas fa-file-signature" style="color:var(--primary)"></i> æ–‡æ˜å¥‘çº¦æ¨¡å—</div>
                    <div class="impl-details">
                        <p><span class="impl-tag">å¯¹åº”ç†è®º</span> æœºåˆ¶ä¿éšœå±‚</p>
                        <p><strong>è®¾è®¡ç†å¿µï¼š</strong>é€šè¿‡ä»ªå¼åŒ–çš„æ‰¿è¯ºï¼Œå»ºç«‹è¡Œä¸ºçº¦æŸæœºåˆ¶ã€‚</p>
                        <p><strong>å¹³å°å®ç°ï¼š</strong>åœ¨çº¿ç­¾ç½²æ‰¿è¯ºä¹¦ï¼Œç”Ÿæˆä¸“å±ç”µå­è¯ä¹¦ã€‚</p>
                    </div>
                </div>
                <div class="impl-item">
                    <div class="impl-title"><i class="fas fa-comments" style="color:var(--primary)"></i> é’å¹´ä¹‹å£°æ¨¡å—</div>
                    <div class="impl-details">
                        <p><span class="impl-tag">å¯¹åº”ç†è®º</span> å…³ç³»åè°ƒå±‚</p>
                        <p><strong>è®¾è®¡ç†å¿µï¼š</strong>æä¾›ç†æ€§äº¤æµç©ºé—´ï¼ŒåŸ¹å…»å¯¹è¯èƒ½åŠ›ã€‚</p>
                        <p><strong>å¹³å°å®ç°ï¼š</strong>å®æ—¶äº’åŠ¨ç•™è¨€å¢™ï¼ŒLeanCloudäº‘ç«¯æ•°æ®æ”¯æŒã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section" id="theory">
            <div class="section-title"><h2>çº¢è‰²ç†è®º Â· æ€æƒ³é¢†èˆª</h2></div>
            <div class="theory-layout">
                <div>
                    <p><strong>ç§‘å­¦å‘å±•è§‚</strong> å¼ºè°ƒâ€œä»¥äººä¸ºæœ¬â€ã€‚åœ¨ç½‘ç»œç©ºé—´æ²»ç†ä¸­ï¼Œè¿™æ„å‘³ç€è¦å°Šé‡ç½‘æ°‘çš„ä¸»ä½“åœ°ä½ï¼Œç»´æŠ¤ç½‘æ°‘åˆæ³•æƒç›Šã€‚æˆ‘ä»¬å€¡å¯¼ç†æ€§ä¸Šç½‘ã€æ–‡æ˜å‘å£°ï¼Œæ‹’ç»ç½‘ç»œæš´åŠ›ï¼Œå…±åŒç»´æŠ¤æ¸…æœ—çš„ç½‘ç»œç©ºé—´ã€‚</p>
                    <div style="display: flex; gap: 15px; margin-top: 30px;">
                        <a href="https://www.12371.cn/" class="btn btn-outline" target="_blank">å…±äº§å…šå‘˜ç½‘</a>
                        <a href="https://www.xuexi.cn/" class="btn" target="_blank">å­¦ä¹ å¼ºå›½</a>
                    </div>
                </div>
                <div class="quiz-card" id="quiz-box">
                    <div style="text-align: center; padding-top: 80px; color: #999;">
                        <i class="fas fa-spinner fa-spin"></i> æ­£åœ¨åŠ è½½é¢˜åº“...
                    </div>
                </div>
            </div>
        </div>

        <section class="section" id="data">
            <div class="container">
                <div class="section-title">
                    <h2>æ•°å­—æ´å¯Ÿ Â· æ˜é•œä¹‹å°</h2>
                </div>
                <div class="data-card">
                    <div class="survey-action">
                        <h3 style="color: var(--primary); margin-bottom: 15px; font-weight: 800;">æ‚¨çš„å£°éŸ³å¾ˆé‡è¦ï¼</h3>
                        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">ä¸ºäº†æ›´ç²¾å‡†åœ°äº†è§£æ ¡å›­ç½‘ç»œç°çŠ¶ï¼Œè¯·å¡«å†™å®æ—¶è°ƒç ”é—®å·ã€‚</p>
                        <a href="https://v.wjx.cn/vm/hLDRJXz.aspx#" class="btn" target="_blank">
                            <i class="fas fa-edit"></i> ç«‹å³å‚ä¸é—®å·è°ƒæŸ¥
                        </a>
                    </div>
                    
                    <div class="chart-grid">
                        <div class="chart-box">
                            <h4 style="text-align: center; margin-bottom: 20px; color: var(--text-dark); font-weight: bold;">ä¸»è¦ç½‘ç»œå›°æ‰°åˆ†å¸ƒ</h4>
                            <canvas id="chart-pie"></canvas>
                        </div>
                        <div class="chart-box">
                            <h4 style="text-align: center; margin-bottom: 20px; color: var(--text-dark); font-weight: bold;">å¹´çº§å‚ä¸çƒ­åº¦</h4>
                            <canvas id="chart-bar"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="pledge">
            <div class="container">
                <div class="section-title"><h2>æ–‡æ˜å¥‘çº¦ Â· éƒ‘é‡æ‰¿è¯º</h2></div>
                <div class="pledge-paper">
                    <h2 class="pledge-title">æ–°æ—¶ä»£å¤§å­¦ç”Ÿç½‘ç»œæ–‡æ˜å…¬çº¦</h2>
                    <div class="pledge-content">
                        <p>ä¸€ã€ ä¾æ³•ä¸Šç½‘ï¼Œè‡ªè§‰ç»´æŠ¤å›½å®¶å®‰å…¨å’Œå…¬å…±åˆ©ç›Šã€‚</p>
                        <p>äºŒã€ æ–‡æ˜ä¸Šç½‘ï¼Œä¼ æ’­æ­£èƒ½é‡ï¼ŒæŠµåˆ¶ä½ä¿—ä¿¡æ¯ã€‚</p>
                        <p>ä¸‰ã€ ç†æ€§ä¸Šç½‘ï¼Œæ‹’ç»ç½‘ç»œæš´åŠ›ï¼Œä¸ä¿¡è°£ä¸ä¼ è°£ã€‚</p>
                        <p>å››ã€ å®‰å…¨ä¸Šç½‘ï¼Œæé«˜é˜²èŒƒæ„è¯†ï¼Œè°¨é˜²ç½‘ç»œè¯ˆéª—ã€‚</p>
                    </div>
                    
                    <div id="seal" class="seal-mark">è¡ŒçŸ¥<br>æ¸…æœ—</div>

                    <div class="input-group" id="signForm">
                        <input type="text" id="signerName" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" style="width: 250px;">
                        <button class="btn" onclick="signPledge()">ç­¾ç½²å¹¶ç”Ÿæˆè¯ä¹¦</button>
                    </div>
                    <div id="downloadArea" style="display: none; margin-top: 30px;">
                        <p style="color: green; margin-bottom: 15px; font-weight: bold;">ğŸ‰ ç­¾ç½²æˆåŠŸï¼</p>
                        <button class="btn btn-outline" onclick="generateCertificate()"><i class="fas fa-download"></i> ä¸‹è½½è£èª‰è¯ä¹¦</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="voice">
            <div class="container">
                <div class="section-title"><h2>é’å¹´ä¹‹å£° Â· ç•™è¨€å¢™</h2><p>Speak Up</p></div>
                <div style="max-width: 900px; margin: 0 auto;">
                    <div class="input-area">
                        <div style="width: 60px; height: 60px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; flex-shrink: 0; font-size: 1.2rem;">æˆ‘</div>
                        <div style="flex: 1; display: flex; flex-direction: column; gap: 15px;">
                            <textarea id="commentInput" rows="3" placeholder="å†™ä¸‹ä½ å¯¹ç½‘ç»œæ–‡æ˜å»ºè®¾çš„çœ‹æ³•...ï¼ˆæ–‡æ˜å‘è¨€ï¼Œå…±å»ºå’Œè°ï¼‰"></textarea>
                            <div style="text-align: right;">
                                <button class="btn" onclick="addComment()">
                                    <i class="fas fa-paper-plane"></i> å‘å¸ƒä¸Šå¢™
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="message-wall" id="commentList">
                        <div style="text-align: center; width: 100%; padding: 40px; color: #999;">
                            <i class="fas fa-circle-notch fa-spin"></i> æ­£åœ¨è¿æ¥äº‘ç«¯æ•°æ®åº“...
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="gallery">
            <div class="container">
                <div class="section-title">
                    <h2>å…‰å½±è¶³è¿¹ Â· å…±å»ºé£é‡‡</h2>
                    <p style="margin-top:10px; color:#666;">è·µè¡Œç§‘å­¦å‘å±•è§‚ï¼Œè¡ŒçŸ¥å­¦å­åœ¨è¡ŒåŠ¨</p>
                </div>
                <div class="gallery-grid">
                    <div class="gallery-item" onclick="viewImage(this)">
                        <img src="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                        <div class="gallery-overlay">
                            <div class="gallery-title">ç†è®ºç ”è®¨ä¼š</div>
                            <div class="gallery-desc">æ·±å…¥å­¦ä¹ ç§‘å­¦å‘å±•è§‚å†…æ¶µ</div>
                        </div>
                    </div>
                    <div class="gallery-item" onclick="viewImage(this)">
                        <img src="https://images.unsplash.com/photo-1531482615713-2afd69097998?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                        <div class="gallery-overlay">
                            <div class="gallery-title">ç½‘ç»œæ–‡æ˜å®£è®²</div>
                            <div class="gallery-desc">è¿›ç­çº§å®£è®²ç½‘ç»œå®‰å…¨çŸ¥è¯†</div>
                        </div>
                    </div>
                    <div class="gallery-item" onclick="viewImage(this)">
                        <img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                        <div class="gallery-overlay">
                            <div class="gallery-title">å…±å»ºä»ªå¼</div>
                            <div class="gallery-desc">å¸ˆç”Ÿå…±åŒç­¾ç½²æ–‡æ˜å…¬çº¦</div>
                        </div>
                    </div>
                    <div class="gallery-item" onclick="viewImage(this)">
                        <img src="https://images.unsplash.com/photo-1577563908411-5077b6dc7624?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                        <div class="gallery-overlay">
                            <div class="gallery-title">åœ†æ¡Œæ´¾è®¨è®º</div>
                            <div class="gallery-desc">å­¦ç”Ÿä»£è¡¨ç•…è°ˆç½‘ç»œæ²»ç†</div>
                        </div>
                    </div>
                    <div class="gallery-item" onclick="viewImage(this)">
                        <img src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                        <div class="gallery-overlay">
                            <div class="gallery-title">å¿—æ„¿æœåŠ¡</div>
                            <div class="gallery-desc">ååŠ©ç¤¾åŒºæ¸…ç†ä¸è‰¯ä¿¡æ¯</div>
                        </div>
                    </div>
                    <div class="gallery-item" onclick="viewImage(this)">
                        <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                        <div class="gallery-overlay">
                            <div class="gallery-title">å›¢é˜Ÿåˆå½±</div>
                            <div class="gallery-desc">è¡ŒçŸ¥æ¸…æœ—é¡¹ç›®ç»„å…¨ä½“æˆå‘˜</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="resources">
            <div class="container">
                <div class="section-title"><h2>å­¦ä¹ èµ„æºåº“</h2></div>
                <div class="resource-grid">
                    <div class="resource-card">
                        <i class="fas fa-gavel" style="font-size: 3rem; color: #e74c3c; margin-bottom: 20px;"></i>
                        <h4 style="margin-bottom: 10px; font-size: 1.1rem;">ç½‘ç»œå®‰å…¨æ³•</h4>
                        <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">å›½å®¶ç½‘ä¿¡åŠå®˜æ–¹å…¨æ–‡å‘å¸ƒ</p>
                        <a href="https://www.cac.gov.cn/2016-11/07/c_1119867116.htm" class="btn btn-outline" style="font-size: 0.9rem;">é˜…è¯»å…¨æ–‡</a>
                    </div>
                    <div class="resource-card">
                        <i class="fas fa-video" style="font-size: 3rem; color: #3498db; margin-bottom: 20px;"></i>
                        <h4 style="margin-bottom: 10px; font-size: 1.1rem;">ç½‘ç»œå¼ºå›½è®ºè¿°</h4>
                        <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">å­¦ä¹ å¼ºå›½é‡è¦è®ºè¿°æ‘˜ç¼–</p>
                        <a href="https://www.xuexi.cn/lgpage/detail/index.html?id=179923331428698591&item_id=179923331428698591" class="btn btn-outline" style="font-size: 0.9rem;">ç«‹å³å­¦ä¹ </a>
                    </div>
                    <div class="resource-card">
                        <i class="fas fa-file-alt" style="font-size: 3rem; color: #2ecc71; margin-bottom: 20px;"></i>
                        <h4>æ–‡æ˜å»ºè®¾ä¸“é¢˜</h4>
                        <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">æ–°åç½‘ç½‘ç»œæ–‡æ˜å»ºè®¾ä¸“é¢˜</p>
                        <a href="https://www.news.cn/20250611/3d2c70d82cba4c55854735a39ebb0baa/c.html" class="btn btn-outline" style="font-size: 0.9rem;">æŸ¥çœ‹è¯¦æƒ…</a>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer-artistic">
            <div class="container">
                <h2 class="footer-title">è¡ŒçŸ¥æ¸…æœ— E-SPACE é¡¹ç›®ç»„</h2>
                <p class="footer-subtitle">æŒ‡å¯¼è€å¸ˆï¼šç‹å¨œ | æµ™æ±Ÿå¸ˆèŒƒå¤§å­¦è¡ŒçŸ¥å­¦é™¢</p>
                
                <div class="team-container">
                    <span class="member-tag"><i class="fas fa-user"></i> é™ˆä½³å‡Œ</span>
                    <span class="member-tag"><i class="fas fa-user"></i> é»„å¥•</span>
                    <span class="member-tag"><i class="fas fa-user"></i> è¢ç’èŒœ</span>
                    <span class="member-tag"><i class="fas fa-user"></i> é™†æ¥šç’‡</span>
                </div>

                <button class="back-to-top" onclick="window.scrollTo(0,0)">
                    <i class="fas fa-arrow-up"></i> å›åˆ°é¡¶éƒ¨
                </button>
            </div>
        </footer>

        <div class="modal" id="linkModal">
            <div class="modal-content">
                <i class="fas fa-external-link-alt" style="font-size: 3rem; color: var(--primary); margin-bottom: 15px;"></i>
                <h3>å³å°†è·³è½¬å¤–éƒ¨é¡µé¢</h3>
                <p style="color: #666; margin: 15px 0;">æ‚¨å³å°†ç¦»å¼€æœ¬å¹³å°å‰å¾€ï¼š<br><strong id="targetUrl" style="word-break: break-all; color: var(--primary);"></strong></p>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button class="btn btn-outline" onclick="document.getElementById('linkModal').style.display='none'">å–æ¶ˆ</button>
                    <button class="btn" onclick="confirmJump()">ç¡®è®¤è·³è½¬</button>
                </div>
            </div>
        </div>

        <div class="modal" id="msgModal">
            <div class="modal-content">
                <h3 id="msgTitle" style="color: var(--primary); margin-bottom: 10px;">æç¤º</h3>
                <p id="msgContent">å†…å®¹</p>
                <button class="btn" onclick="document.getElementById('msgModal').style.display='none'" style="margin-top: 20px;">ç¡®å®š</button>
            </div>
        </div>

        <div class="modal" id="imgModal" onclick="this.style.display='none'">
            <div class="modal-content" style="max-width: 900px; background: transparent; box-shadow: none; border: none; padding: 0;">
                <img id="previewImg" src="" style="width: 100%; border-radius: 15px; box-shadow: 0 20px 60px rgba(0,0,0,0.6); border: 4px solid white;">
            </div>
        </div>

        <canvas id="certCanvas" width="800" height="600" style="display: none;"></canvas>

        <script src="https://unpkg.com/leancloud-storage@4.12.0/dist/av-min.js"></script>
        <script>
            // --- 1. LeanCloud åˆå§‹åŒ– ---
            const APP_ID = "fUQlsmdwimD8CkUDvirxrOSz-MdYXbMMI";
            const APP_KEY = "vIP5C42sbdnnftyHFPj1y5mj";
            const SERVER_URL = "https://fuqlsmdw.api.lncldglobal.com"; 

            const { Query, User } = AV;
            AV.init({
                appId: APP_ID,
                appKey: APP_KEY,
                serverURL: SERVER_URL
            });

            // --- 2. é“¾æ¥æ‹¦æˆªç³»ç»Ÿ ---
            let targetLink = "";
            document.addEventListener('click', function(e) {
                if(e.target.classList.contains('quiz-btn') || e.target.closest('#voice') || e.target.tagName !== 'A' && !e.target.closest('a')) return;
                const link = e.target.closest('a');
                if(link && link.href.startsWith('http') && !link.href.includes(window.location.host)) {
                    e.preventDefault();
                    targetLink = link.href;
                    document.getElementById('targetUrl').textContent = targetLink;
                    document.getElementById('linkModal').style.display = 'flex';
                }
            });
            function confirmJump() { window.open(targetLink, '_blank'); document.getElementById('linkModal').style.display = 'none'; }

            // --- 3. æ¯æ—¥ä¸€æµ‹é€»è¾‘ (å·²æ‰©å……ä¸º10é¢˜) ---
            const questions = [
                {q: "ç§‘å­¦å‘å±•è§‚çš„ç¬¬ä¸€è¦ä¹‰æ˜¯ï¼Ÿ", opts: ["A. å…¨é¢åè°ƒå¯æŒç»­", "B. å‘å±•", "C. ç»Ÿç­¹å…¼é¡¾"], a: 1},
                {q: "ç½‘ç»œå¼ºå›½æˆ˜ç•¥æŒ‡å‡ºï¼Œæ²¡æœ‰____å°±æ²¡æœ‰å›½å®¶å®‰å…¨ï¼Ÿ", opts: ["A. ç½‘ç»œå®‰å…¨", "B. ä¿¡æ¯åŒ–", "C. æŠ€æœ¯è¿›æ­¥"], a: 0},
                {q: "æ„å»ºç½‘ç»œç©ºé—´å‘½è¿å…±åŒä½“ï¼Œåº”åšæŒä»€ä¹ˆåŸåˆ™ï¼Ÿ", opts: ["A. å°Šé‡ç½‘ç»œä¸»æƒ", "B. éœ¸æƒä¸»ä¹‰", "C. å•è¾¹ä¸»ä¹‰"], a: 0},
                {q: "é‡åˆ°ç½‘ç»œè°£è¨€ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯ï¼Ÿ", opts: ["A. ç«‹å³è½¬å‘", "B. è¾±éª‚å‘å¸ƒè€…", "C. ä¸¾æŠ¥å¹¶ç­‰å¾…è¾Ÿè°£"], a: 2},
                {q: "ç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚åœ¨ç¤¾ä¼šå±‚é¢çš„è¦æ±‚æ˜¯ï¼Ÿ", opts: ["A. å¯Œå¼ºæ°‘ä¸»æ–‡æ˜å’Œè°", "B. è‡ªç”±å¹³ç­‰å…¬æ­£æ³•æ²»", "C. çˆ±å›½æ•¬ä¸šè¯šä¿¡å‹å–„"], a: 1},
                // æ–°å¢é¢˜ç›® 6-10
                {q: "ç§‘å­¦å‘å±•è§‚çš„æ ¸å¿ƒæ˜¯ï¼Ÿ", opts: ["A. ä»¥äººä¸ºæœ¬", "B. ç»æµå»ºè®¾", "C. æ”¹é©å¼€æ”¾"], a: 0},
                {q: "ç§‘å­¦å‘å±•è§‚çš„åŸºæœ¬è¦æ±‚æ˜¯ï¼Ÿ", opts: ["A. å…¨é¢åè°ƒå¯æŒç»­", "B. ç»Ÿç­¹å…¼é¡¾", "C. å‘å±•"], a: 0},
                {q: "ã€Šç½‘ç»œå®‰å…¨æ³•ã€‹è§„å®šï¼Œç½‘ç»œè¿è¥è€…åº”å½“åŠ å¼ºå¯¹å…¶ç”¨æˆ·å‘å¸ƒçš„ä¿¡æ¯çš„ç®¡ç†ï¼Œå‘ç°æ³•å¾‹ã€è¡Œæ”¿æ³•è§„ç¦æ­¢å‘å¸ƒæˆ–è€…ä¼ è¾“çš„ä¿¡æ¯çš„ï¼Œåº”å½“ç«‹å³åœæ­¢ä¼ è¾“è¯¥ä¿¡æ¯ï¼Œé‡‡å–æ¶ˆé™¤ç­‰å¤„ç½®æªæ–½ï¼Œé˜²æ­¢ä¿¡æ¯æ‰©æ•£ï¼Œä¿å­˜æœ‰å…³è®°å½•ï¼Œå¹¶å‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥å‘Šã€‚", opts: ["A. æ­£ç¡®", "B. é”™è¯¯"], a: 0},
                {q: "æ–‡æ˜ä¸Šç½‘ï¼Œè¦æ±‚æˆ‘ä»¬åšåˆ°ï¼Ÿ", opts: ["A. è¯šå®å‹å¥½äº¤æµ", "B. éšæ„å‘å¸ƒè¨€è®º", "C. ç›²ç›®è·Ÿé£"], a: 0},
                {q: "é˜²èŒƒç½‘ç»œè¯ˆéª—ï¼Œæœ€é‡è¦çš„åŸåˆ™æ˜¯ï¼Ÿ", opts: ["A. ä¸è½»ä¿¡ï¼Œä¸è½¬è´¦", "B. è´ªå°ä¾¿å®œ", "C. ç‚¹å‡»ä¸æ˜é“¾æ¥"], a: 0}
            ];
            let qIndex = 0;

            function renderQuiz() {
                const box = document.getElementById('quiz-box');
                if(qIndex >= questions.length) {
                    box.innerHTML = `<div style="text-align:center; padding:40px;"><i class="fas fa-trophy" style="font-size:3rem; color:#FFD700"></i><h3 style="color:var(--primary);margin-top:10px;">æŒ‘æˆ˜é€šå…³ï¼</h3><p>æ‚¨å·²å®Œæˆæ‰€æœ‰é¢˜ç›®ã€‚</p><button class="btn" onclick="qIndex=0;renderQuiz()" style="margin-top:15px;">é‡æ–°æŒ‘æˆ˜</button></div>`;
                    return;
                }
                const q = questions[qIndex];
                let html = `<h3 style="color:var(--primary); margin-bottom:15px;"><i class="fas fa-brain"></i> æ¯æ—¥ä¸€æµ‹ (${qIndex+1}/${questions.length})</h3>
                            <p style="font-weight:bold; margin-bottom:15px;">${q.q}</p>`;
                q.opts.forEach((opt, idx) => {
                    html += `<button class="quiz-btn" onclick="handleAnswer(${idx}, ${q.a}, this)">${opt}</button>`;
                });
                box.innerHTML = html;
            }

            function handleAnswer(choice, correct, btn) {
                const all = document.querySelectorAll('.quiz-btn');
                all.forEach(b => b.disabled = true);
                if(choice === correct) {
                    btn.style.background = "#d4edda"; btn.style.borderColor = "#28a745"; btn.style.color = "#155724";
                    setTimeout(() => { qIndex++; renderQuiz(); }, 1000);
                } else {
                    btn.style.background = "#f8d7da"; btn.style.borderColor = "#dc3545"; btn.style.color = "#721c24";
                    setTimeout(() => {
                        showModal("å›ç­”é”™è¯¯", "è¯·å†æ€è€ƒä¸€ä¸‹ï¼");
                        all.forEach(b => b.disabled = false);
                        btn.style.background = ""; btn.style.borderColor = "#eee"; btn.style.color = "";
                    }, 500);
                }
            }

            // --- 4. è¯„è®ºåŒº ---
            function loadComments() {
                const wall = document.getElementById('commentList');
                const query = new AV.Query('RedComments');
                query.descending('createdAt');
                query.limit(20);
                query.find().then(res => {
                    wall.innerHTML = "";
                    if(res.length === 0) { wall.innerHTML = "<div style='text-align:center; color:#999; grid-column:1/-1;'>æš‚æ— ç•™è¨€ï¼Œæ¥åšç¬¬ä¸€ä¸ªå‘è¨€äººï¼</div>"; return; }
                    res.forEach(c => {
                        const name = c.get('name') || "åŒ¿å";
                        const content = c.get('content');
                        const time = c.createdAt.toISOString().split('T')[0];
                        const card = document.createElement('div');
                        card.className = 'message-card';
                        card.innerHTML = `<div class="message-header"><div class="message-avatar" style="background:${getRandomColor()}">${name[0]}</div><span class="message-name">${name}</span><span class="message-time">${time}</span></div><div class="message-body">${content}</div>`;
                        wall.appendChild(card);
                    });
                }).catch(e => { console.error(e); wall.innerHTML = "<div style='text-align:center; color:red; grid-column:1/-1;'>è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥å¯†é’¥è®¾ç½®</div>"; });
            }

            function addComment() {
                const val = document.getElementById('commentInput').value.trim();
                if(!val) { showModal("æç¤º", "è¯·è¾“å…¥å†…å®¹"); return; }
                const Comment = AV.Object.extend('RedComments');
                const c = new Comment();
                c.set('name', localStorage.getItem('xz_name') || "çº¢è‰²å…ˆé”‹");
                c.set('content', val);
                c.save().then(() => {
                    document.getElementById('commentInput').value = "";
                    showModal("æˆåŠŸ", "å‘å¸ƒæˆåŠŸï¼");
                    loadComments();
                }, (err) => { showModal("å¤±è´¥", "å‘é€å¤±è´¥ï¼š" + err.message); });
            }

            // --- 5. æ‰¿è¯ºä¹¦ä¸è¯ä¹¦ ---
            function signPledge() {
                const name = document.getElementById('signerName').value;
                if(!name) { showModal("æç¤º", "è¯·è¾“å…¥å§“å"); return; }
                localStorage.setItem('xz_signed', 'true');
                localStorage.setItem('xz_name', name);
                document.getElementById('seal').classList.add('active');
                document.getElementById('signForm').style.display = 'none';
                document.getElementById('downloadArea').style.display = 'block';
                showModal("æˆåŠŸ", "ç­¾ç½²æˆåŠŸï¼");
            }

            function generateCertificate() {
                const c = document.getElementById('certCanvas');
                const ctx = c.getContext('2d');
                const name = localStorage.getItem('xz_name');
                ctx.fillStyle = "#fffdf5"; ctx.fillRect(0,0,800,600);
                ctx.strokeStyle = "#b71c1c"; ctx.lineWidth = 15; ctx.strokeRect(20,20,760,560);
                ctx.strokeStyle = "#ffc107"; ctx.lineWidth = 2; ctx.strokeRect(40,40,720,520);
                ctx.fillStyle = "#b71c1c"; ctx.font = "bold 50px Microsoft YaHei"; ctx.textAlign = "center";
                ctx.fillText("è£èª‰è¯ä¹¦", 400, 150);
                ctx.fillStyle = "#333"; ctx.font = "30px Microsoft YaHei";
                ctx.fillText("æˆäºˆï¼š " + name + " åŒå­¦", 400, 250);
                ctx.fillText("ç½‘ç»œæ–‡æ˜å…ˆé”‹ç§°å·", 400, 350);
                ctx.font = "20px Microsoft YaHei"; ctx.textAlign = "right";
                ctx.fillText("è¡ŒçŸ¥æ¸…æœ—Eç©ºé—´é¡¹ç›®ç»„", 700, 480);
                ctx.fillText("2024å¹´", 700, 520);
                const a = document.createElement('a'); a.download = "è¯ä¹¦.png"; a.href = c.toDataURL(); a.click();
            }

            // --- 6. é€šç”¨ ---
            function showModal(t, m) {
                document.getElementById('modalTitle').innerText = t;
                document.getElementById('modalMsg').innerText = m;
                document.getElementById('myModal').style.display = 'flex';
            }

            function viewImage(el) {
                const src = el.querySelector('img').src;
                document.getElementById('previewImg').src = src;
                document.getElementById('imgModal').style.display = 'flex';
            }

            function getRandomColor() {
                const colors = ['#b71c1c', '#f57f17', '#1b5e20', '#0d47a1', '#4a148c'];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            // --- 7. åˆå§‹åŒ– ---
            window.onload = function() {
                // ç²’å­ç‰¹æ•ˆ
                const cvs = document.getElementById('particleCanvas'); const ctx = cvs.getContext('2d');
                cvs.width = window.innerWidth; cvs.height = window.innerHeight;
                const parts = Array.from({length:50}, () => ({x:Math.random()*cvs.width, y:Math.random()*cvs.height, r:Math.random()*2+1, dx:Math.random()-0.5, dy:Math.random()-0.5}));
                function ani() { ctx.clearRect(0,0,cvs.width,cvs.height); parts.forEach(p=>{p.x+=p.dx;p.y+=p.dy;if(p.x<0||p.x>cvs.width)p.dx*=-1;if(p.y<0||p.y>cvs.height)p.dy*=-1;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fillStyle="rgba(255,255,255,0.5)";ctx.fill();}); requestAnimationFrame(ani); }
                ani();

                // ç»Ÿè®¡æ•°æ®
                let v = 2024; setInterval(()=>{ v++; document.getElementById('visitCount').innerText=v; }, 5000);

                // å›¾è¡¨
                new Chart(document.getElementById('chart-pie'), {
                    type: 'doughnut',
                    data: { labels: ['è°£è¨€', 'ç½‘æš´', 'è¯ˆéª—', 'å…¶ä»–'], datasets: [{ data: [142, 89, 76, 48], backgroundColor: ['#b71c1c', '#f57f17', '#1976D2', '#7f8c8d'] }] },
                    options: { responsive: true, maintainAspectRatio: false }
                });
                new Chart(document.getElementById('chart-bar'), {
                    type: 'bar',
                    data: { labels: ['å¤§ä¸€', 'å¤§äºŒ', 'å¤§ä¸‰', 'å¤§å››'], datasets: [{ label: 'å‚ä¸äººæ•°', data: [115, 98, 82, 60], backgroundColor: '#b71c1c' }] },
                    options: { responsive: true, maintainAspectRatio: false }
                });

                // å¯åŠ¨é€»è¾‘
                renderQuiz(); 
                loadComments();
                if(localStorage.getItem('xz_signed')) {
                    document.getElementById('seal').classList.add('active');
                    document.getElementById('signForm').style.display = 'none';
                    document.getElementById('downloadArea').style.display = 'block';
                }
            };
        </script>
</body>
</html>