<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡ŒçŸ¥æ¸…æœ— E-SPACE - æ²‰æµ¸å¼ç½‘ç»œæ–‡æ˜å…±å»ºå¹³å°</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://unpkg.com/leancloud-storage@4.12.0/dist/av-min.js"></script>
    
    <style>
        /* --- 1. å…¨å±€è®¾è®¡ç³»ç»Ÿ --- */
        :root {
            --primary: #b71c1c; /* ä¸­å›½çº¢ */
            --primary-dark: #8E0E00;
            --gold: #d4af37; /* é¦™æ§Ÿé‡‘ */
            --gold-light: #f3e5ab;
            --text-main: #333333;
            --text-sub: #666666;
            --bg-body: #f9f9f9;
            --card-bg: #ffffff;
            --shadow: 0 10px 30px rgba(183, 28, 28, 0.08);
            --shadow-hover: 0 15px 40px rgba(183, 28, 28, 0.15);
        }

        /* å¹³æ»‘æ»šåŠ¨ */
        html { scroll-behavior: smooth; }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "PingFang SC", "Microsoft YaHei", "Heiti SC", sans-serif; }
        body { background-color: var(--bg-body); color: var(--text-main); line-height: 1.6; overflow-x: hidden; }

        /* --- 2. å¯¼èˆªæ  (å›ºå®šé¡¶éƒ¨) --- */
        .nav {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            box-shadow: 0 2px 15px rgba(0,0,0,0.05); transition: 0.3s;
        }
        .nav-container {
            max-width: 1200px; margin: 0 auto; padding: 0 20px; height: 70px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .nav-brand { font-size: 1.4rem; font-weight: 900; color: var(--primary); letter-spacing: 1px; display: flex; align-items: center; gap: 8px; }
        .nav-links { display: flex; gap: 30px; }
        .nav-links a { 
            text-decoration: none; color: var(--text-main); font-weight: 600; font-size: 0.95rem; 
            transition: 0.3s; position: relative; padding: 5px 0;
        }
        .nav-links a:hover { color: var(--primary); }
        .nav-links a::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 2px;
            background: var(--primary); transition: width 0.3s;
        }
        .nav-links a:hover::after { width: 100%; }

        /* --- 3. å¤´éƒ¨ Hero (å¤§æ°”èƒŒæ™¯) --- */
        .header {
            position: relative; height: 90vh; display: flex; align-items: center; justify-content: center; text-align: center; color: white; margin-bottom: 60px;
            /* ä¿®æ­£ï¼šä½¿ç”¨æ›´ç¨³é‡çš„èƒŒæ™¯ */
            background: linear-gradient(135deg, rgba(142, 14, 0, 0.85), rgba(30, 0, 0, 0.8)), 
                        url('https://images.unsplash.com/photo-1496307653780-42ee777d480d?q=80&w=2070&auto=format&fit=crop');
            background-size: cover; background-position: center; background-attachment: fixed;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 50% 100%, 0 90%);
        }
        .header-content { z-index: 2; animation: fadeInUp 1s ease; padding: 0 20px; }
        .logo-title {
            font-size: 5rem; font-weight: 900; margin-bottom: 15px; letter-spacing: 5px;
            background: linear-gradient(to bottom, #fff 20%, var(--gold));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .logo-subtitle {
            font-size: 1.5rem; font-weight: 300; letter-spacing: 3px; opacity: 0.9; margin-bottom: 40px;
            text-transform: uppercase; border-top: 1px solid rgba(255,255,255,0.3); border-bottom: 1px solid rgba(255,255,255,0.3);
            padding: 10px 0; display: inline-block;
        }
        .btn-hero {
            padding: 15px 50px; font-size: 1.2rem; font-weight: bold; border-radius: 50px;
            background: var(--gold); color: #8E0E00; text-decoration: none; transition: 0.3s;
            box-shadow: 0 5px 20px rgba(212, 175, 55, 0.4); border: 2px solid var(--gold);
        }
        .btn-hero:hover { background: transparent; color: var(--gold); transform: translateY(-3px); }

        /* --- 4. ç»Ÿè®¡æ¡ --- */
        .stats-wrapper { max-width: 1100px; margin: -120px auto 80px; position: relative; z-index: 10; padding: 0 20px; }
        .stats-card {
            background: white; border-radius: 15px; padding: 40px; box-shadow: var(--shadow);
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; text-align: center;
            border-bottom: 4px solid var(--primary);
        }
        .stat-num { font-size: 2.8rem; font-weight: 800; color: var(--primary); margin-bottom: 5px; font-family: 'Arial Black', sans-serif; }
        .stat-label { color: var(--text-sub); font-size: 0.9rem; letter-spacing: 1px; }

        /* --- 5. é€šç”¨æ¿å—æ ·å¼ --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .section { padding: 80px 0; }
        .section-title { text-align: center; margin-bottom: 60px; }
        .section-title h2 { 
            font-size: 2.4rem; color: var(--primary); display: inline-block; position: relative; font-weight: 800;
        }
        .section-title h2::after {
            content: ''; display: block; width: 60px; height: 4px; background: var(--gold);
            margin: 15px auto 0; border-radius: 2px;
        }
        .section-title p { color: var(--text-sub); margin-top: 10px; font-size: 1.1rem; }

        /* --- 6. ç®€ä»‹ä¸ç†è®ºæ¡†æ¶ --- */
        .intro-box {
            background: white; padding: 50px; border-radius: 15px; box-shadow: var(--shadow);
            border-left: 6px solid var(--primary); font-size: 1.1rem; text-align: justify; line-height: 1.8;
        }
        
        .framework-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }
        .framework-card {
            background: white; padding: 40px 30px; border-radius: 15px; text-align: center;
            box-shadow: var(--shadow); transition: 0.3s; border: 1px solid #eee;
        }
        .framework-card:hover { transform: translateY(-10px); box-shadow: var(--shadow-hover); border-color: var(--gold); }
        .icon-box {
            width: 80px; height: 80px; background: var(--primary); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; margin: 0 auto 25px;
            color: white; font-size: 2rem; box-shadow: 0 10px 20px rgba(183, 28, 28, 0.3);
        }
        .framework-card h3 { font-size: 1.4rem; margin-bottom: 15px; color: var(--text-main); }

        /* --- 7. ç­”é¢˜ä¸å­¦ä¹  --- */
        .theory-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: start; }
        .quiz-card {
            background: white; padding: 40px; border-radius: 20px; box-shadow: var(--shadow);
            border-top: 5px solid var(--primary); min-height: 400px;
        }
        .quiz-btn {
            display: block; width: 100%; padding: 18px 20px; margin: 12px 0; border: 1px solid #eee;
            background: #fdfdfd; border-radius: 10px; cursor: pointer; transition: 0.2s;
            text-align: left; font-size: 1.05rem; color: #444; font-weight: 500;
        }
        .quiz-btn:hover { border-color: var(--primary); background: #fff5f5; color: var(--primary); transform: translateX(5px); }

        /* --- 8. æ•°å­—æ´å¯Ÿ (ä¿®å¤å¸ƒå±€) --- */
        #data { background: #fffcf8; }
        .survey-box {
            background: white; padding: 40px; border-radius: 20px; text-align: center;
            border: 2px dashed var(--gold); margin-bottom: 50px; box-shadow: var(--shadow);
        }
        .chart-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        .chart-card {
            background: white; padding: 30px; border-radius: 15px; box-shadow: var(--shadow);
            height: 400px; display: flex; flex-direction: column; justify-content: center;
        }

        /* --- 9. æ‰¿è¯ºä¹¦ --- */
        .pledge-paper {
            background: #fffdf5; padding: 60px; border-radius: 10px; border: 8px double var(--primary);
            max-width: 800px; margin: 0 auto; text-align: center; position: relative;
        }
        .pledge-title { font-family: "æ¥·ä½“"; font-size: 2.2rem; color: var(--primary); margin-bottom: 30px; }
        .pledge-content { text-align: left; font-family: "æ¥·ä½“"; font-size: 1.3rem; line-height: 2; padding: 0 40px; color: #333; }
        .seal {
            width: 140px; height: 140px; border: 4px solid var(--primary); border-radius: 50%;
            position: absolute; bottom: 40px; right: 40px; color: var(--primary);
            display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.5rem;
            transform: rotate(-20deg) scale(2); opacity: 0; transition: 0.5s; pointer-events: none;
        }
        .seal.active { opacity: 0.8; transform: rotate(-20deg) scale(1); }

        /* --- 10. ç•™è¨€å¢™ (ç€‘å¸ƒæµ) --- */
        .message-wall {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;
            max-height: 600px; overflow-y: auto; margin-top: 30px; padding: 5px;
        }
        .message-card {
            background: white; padding: 20px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 4px solid var(--gold); transition: 0.3s; animation: fadeIn 0.5s;
        }
        .message-card:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .message-header { display: flex; align-items: center; margin-bottom: 10px; }
        .message-avatar {
            width: 35px; height: 35px; background: var(--primary); color: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; margin-right: 10px; font-weight: bold;
        }
        .message-body { font-size: 0.95rem; color: #555; word-break: break-word; }

        /* --- 11. å…‰å½±ç”»å»Š (6å¼  + æ‚¬æµ®æ–‡å­—) --- */
        .gallery-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; }
        .gallery-item {
            position: relative; height: 260px; border-radius: 12px; overflow: hidden; cursor: pointer;
            box-shadow: var(--shadow);
        }
        .gallery-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s; }
        .gallery-item:hover .gallery-img { transform: scale(1.1); }
        .gallery-overlay {
            position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px;
            background: linear-gradient(to top, rgba(183, 28, 28, 0.9), transparent);
            color: white; transform: translateY(100%); transition: 0.4s;
        }
        .gallery-item:hover .gallery-overlay { transform: translateY(0); }
        .gallery-title { font-size: 1.1rem; font-weight: bold; margin-bottom: 5px; color: var(--gold); }
        .gallery-desc { font-size: 0.85rem; opacity: 0.9; }

        /* --- 12. èµ„æºåº“ --- */
        .resource-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }
        .resource-card {
            background: white; padding: 35px 20px; border-radius: 15px; text-align: center;
            border: 1px solid #eee; transition: 0.3s;
        }
        .resource-card:hover { border-color: var(--primary); box-shadow: var(--shadow-hover); transform: translateY(-5px); }

        /* --- 13. é¡µè„š (é«˜çº§ç¾åŒ–) --- */
        .footer {
            background: linear-gradient(135deg, #8E0E00 0%, #2c0b0b 100%);
            color: rgba(255,255,255,0.8); padding: 80px 0 40px; margin-top: 100px;
            text-align: center; position: relative; overflow: hidden;
        }
        /* é‡‘è‰²å…‰æ™•è£…é¥° */
        .footer::before {
            content: ''; position: absolute; top: -50%; left: 50%; transform: translateX(-50%);
            width: 80%; height: 200%; background: radial-gradient(circle, rgba(212, 175, 55, 0.1), transparent 70%);
            pointer-events: none;
        }
        .footer h2 { color: white; font-size: 2rem; margin-bottom: 20px; }
        .footer-tags { display: flex; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
        .tag { border: 1px solid rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; }
        .to-top {
            margin-top: 40px; background: transparent; border: 1px solid rgba(255,255,255,0.4);
            color: white; padding: 10px 25px; border-radius: 30px; cursor: pointer; transition: 0.3s;
        }
        .to-top:hover { background: var(--gold); border-color: var(--gold); color: #8E0E00; }

        /* é€šç”¨ç»„ä»¶ */
        .btn {
            background: var(--primary); color: white; padding: 12px 35px; border-radius: 30px;
            font-weight: bold; cursor: pointer; border: none; transition: 0.3s; display: inline-block; text-decoration: none;
        }
        .btn:hover { background: var(--primary-dark); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(183, 28, 28, 0.3); }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); }
        .btn-outline:hover { background: var(--primary); color: white; }
        
        .input-box { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 10px; transition: 0.3s; font-size: 1rem; }
        .input-box:focus { border-color: var(--primary); outline: none; }

        /* å¼¹çª— */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); display: none; align-items: center; justify-content: center; z-index: 3000; }
        .modal-content { background: white; padding: 30px; border-radius: 15px; width: 90%; max-width: 400px; text-align: center; animation: fadeIn 0.3s; border-top: 5px solid var(--primary); }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .header { height: 60vh; clip-path: none; border-radius: 0 0 30px 30px; }
            .logo-title { font-size: 3rem; }
            .nav-links { display: none; }
            .stats-card, .theory-layout, .chart-grid, .framework-grid, .gallery-grid, .resource-grid, .impl-item { grid-template-columns: 1fr; }
            .pledge-paper { padding: 40px 20px; }
        }
    </style>
</head>
<body>

    <nav class="nav">
        <div class="nav-container">
            <div class="nav-brand"><i class="fas fa-star"></i> è¡ŒçŸ¥æ¸…æœ— E-SPACE</div>
            <div class="nav-links">
                <a href="#intro">å¹³å°ç®€ä»‹</a>
                <a href="#framework">ç†è®ºæ¡†æ¶</a>
                <a href="#data">æ•°å­—æ´å¯Ÿ</a>
                <a href="#pledge">æ–‡æ˜å¥‘çº¦</a>
                <a href="#voice">ç•™è¨€å¢™</a>
                <a href="#gallery">å…±å»ºé£é‡‡</a>
            </div>
        </div>
    </nav>

    <header class="header">
        <div class="header-content">
            <h1 class="logo-title">è¡ŒçŸ¥æ¸…æœ—</h1>
            <p class="logo-subtitle">ç§‘å­¦å‘å±•è§‚å¼•é¢† Â· æ²‰æµ¸å¼ç½‘ç»œæ–‡æ˜å…±å»ºå¹³å°</p>
            <br>
            <a href="#pledge" class="btn-hero">ç«‹å³åŠ å…¥è¡ŒåŠ¨</a>
        </div>
    </header>

    <div class="container stats-wrapper">
        <div class="stats-card">
            <div><div class="stat-num" id="visitCount">2024</div><div class="stat-label">ç´¯è®¡è®¿é—®</div></div>
            <div><div class="stat-num" id="pledgeCount">520</div><div class="stat-label">ç­¾ç½²æ‰¿è¯º</div></div>
            <div><div class="stat-num">152</div><div class="stat-label">é—®å·æ ·æœ¬</div></div>
            <div><div class="stat-num">100%</div><div class="stat-label">å…¨å‘˜è¦†ç›–</div></div>
        </div>
    </div>

    <div class="container">
        <section class="section" id="intro">
            <div class="section-title"><h2>å¹³å°ç®€ä»‹</h2><p>Introduction</p></div>
            <div class="intro-box">
                <p>â€œè¡ŒçŸ¥æ¸…æœ—Eç©ºé—´â€æ˜¯æµ™æ±Ÿå¸ˆèŒƒå¤§å­¦è¡ŒçŸ¥å­¦é™¢ã€Šæ¯›æ³½ä¸œæ€æƒ³å’Œä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³æ¦‚è®ºã€‹è¯¾ç¨‹å®è·µé¡¹ç›®ã€‚å¹³å°åšæŒä»¥<strong>ç§‘å­¦å‘å±•è§‚</strong>ä¸ºæŒ‡å¯¼ï¼Œæ·±å…¥è´¯å½»è½å®ç½‘ç»œå¼ºå›½é‡è¦æ€æƒ³ï¼Œæ—¨åœ¨é€šè¿‡â€œç†è®º+æŠ€æœ¯+å®è·µâ€çš„èåˆæ¨¡å¼ï¼Œæ„å»ºç§‘å­¦ã€æ–‡æ˜ã€å’Œè°çš„æ ¡å›­ç½‘ç»œç”Ÿæ€ï¼Œå¼•å¯¼å¤§å­¦ç”Ÿæ ‘ç«‹æ­£ç¡®çš„ç½‘ç»œä»·å€¼è§‚ï¼Œäº‰åšæ–°æ—¶ä»£ç½‘ç»œæ–‡æ˜çš„å®ˆæŠ¤è€…ã€‚</p>
            </div>
        </section>

        <section class="section" id="framework">
            <div class="section-title"><h2>æˆ‘ä»¬çš„ç†è®ºæ¡†æ¶</h2></div>
            <div class="framework-grid">
                <div class="framework-card">
                    <div class="icon-box"><i class="fas fa-book"></i></div>
                    <h3>ä»·å€¼å¼•é¢†å±‚</h3>
                    <p>ç¡®ç«‹æ­£ç¡®çš„ç½‘ç»œä»·å€¼è§‚<br>åšæŒä»¥äººä¸ºæœ¬ï¼Œå¼˜æ‰¬æ­£èƒ½é‡</p>
                </div>
                <div class="framework-card">
                    <div class="icon-box"><i class="fas fa-handshake"></i></div>
                    <h3>å…³ç³»åè°ƒå±‚</h3>
                    <p>æ„å»ºå’Œè°çš„ç½‘ç»œç¤¾ä¼šå…³ç³»<br>å€¡å¯¼ç†æ€§äº¤æµï¼Œæ‹’ç»ç½‘ç»œæš´åŠ›</p>
                </div>
                <div class="framework-card">
                    <div class="icon-box"><i class="fas fa-balance-scale"></i></div>
                    <h3>æœºåˆ¶ä¿éšœå±‚</h3>
                    <p>å»ºç«‹é•¿æ•ˆçš„è¿è¡Œä¿éšœæœºåˆ¶<br>é€šè¿‡å¥‘çº¦ä¸æŠ€æœ¯è§„èŒƒè¡Œä¸º</p>
                </div>
            </div>
        </section>

        <section class="section" id="theory">
            <div class="section-title"><h2>çº¢è‰²ç†è®º Â· æ€æƒ³é¢†èˆª</h2></div>
            <div class="theory-layout">
                <div>
                    <p style="font-size:1.1rem; color:#555; margin-bottom:20px;">
                        <strong>ç§‘å­¦å‘å±•è§‚</strong> å¼ºè°ƒâ€œä»¥äººä¸ºæœ¬â€ã€‚åœ¨ç½‘ç»œç©ºé—´æ²»ç†ä¸­ï¼Œè¿™æ„å‘³ç€è¦å°Šé‡ç½‘æ°‘çš„ä¸»ä½“åœ°ä½ï¼Œç»´æŠ¤ç½‘æ°‘åˆæ³•æƒç›Šã€‚æˆ‘ä»¬å€¡å¯¼ç†æ€§ä¸Šç½‘ã€æ–‡æ˜å‘å£°ï¼Œæ‹’ç»ç½‘ç»œæš´åŠ›ï¼Œå…±åŒç»´æŠ¤æ¸…æœ—çš„ç½‘ç»œç©ºé—´ã€‚
                    </p>
                    <div style="display:flex; gap:15px;">
                        <a href="https://www.12371.cn/" class="btn btn-outline" target="_blank">å…±äº§å…šå‘˜ç½‘</a>
                        <a href="https://www.xuexi.cn/" class="btn" target="_blank">å­¦ä¹ å¼ºå›½</a>
                    </div>
                </div>
                <div class="quiz-card" id="quiz-box">
                    <div style="text-align:center; padding-top:100px; color:#999;"><i class="fas fa-spinner fa-spin"></i> åŠ è½½é¢˜åº“ä¸­...</div>
                </div>
            </div>
        </section>
    </div>

    <section class="section" id="data">
        <div class="container">
            <div class="section-title"><h2>æ•°å­—æ´å¯Ÿ Â· æ˜é•œä¹‹å°</h2></div>
            <div class="survey-box">
                <h3 style="color:var(--primary); margin-bottom:10px;">æ‚¨çš„å£°éŸ³å¾ˆé‡è¦ï¼</h3>
                <p style="color:#666; margin-bottom:20px;">ä¸ºäº†æ›´ç²¾å‡†åœ°äº†è§£æ ¡å›­ç½‘ç»œç°çŠ¶ï¼Œè¯·å¡«å†™å®æ—¶è°ƒç ”é—®å·ã€‚</p>
                <a href="https://v.wjx.cn/vm/hLDRJXz.aspx#" target="_blank" class="btn"><i class="fas fa-edit"></i> ç«‹å³å‚ä¸é—®å·è°ƒæŸ¥</a>
            </div>
            <div class="chart-grid">
                <div class="chart-card">
                    <h4 style="text-align:center; margin-bottom:20px;">ä¸»è¦ç½‘ç»œå›°æ‰°åˆ†å¸ƒ</h4>
                    <canvas id="chart-pie"></canvas>
                </div>
                <div class="chart-card">
                    <h4 style="text-align:center; margin-bottom:20px;">å¹´çº§å‚ä¸çƒ­åº¦</h4>
                    <canvas id="chart-bar"></canvas>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="pledge">
        <div class="container">
            <div class="section-title"><h2>æ–‡æ˜å¥‘çº¦ Â· éƒ‘é‡æ‰¿è¯º</h2></div>
            <div class="pledge-paper">
                <h2 class="pledge-title">æ–°æ—¶ä»£å¤§å­¦ç”Ÿç½‘ç»œæ–‡æ˜å…¬çº¦</h2>
                <div class="pledge-content">
                    <p>ä¸€ã€ ä¾æ³•ä¸Šç½‘ï¼Œè‡ªè§‰ç»´æŠ¤å›½å®¶å®‰å…¨å’Œå…¬å…±åˆ©ç›Šã€‚</p>
                    <p>äºŒã€ æ–‡æ˜ä¸Šç½‘ï¼Œä¼ æ’­æ­£èƒ½é‡ï¼ŒæŠµåˆ¶ä½ä¿—ä¿¡æ¯ã€‚</p>
                    <p>ä¸‰ã€ ç†æ€§ä¸Šç½‘ï¼Œæ‹’ç»ç½‘ç»œæš´åŠ›ï¼Œä¸ä¿¡è°£ä¸ä¼ è°£ã€‚</p>
                    <p>å››ã€ å®‰å…¨ä¸Šç½‘ï¼Œæé«˜é˜²èŒƒæ„è¯†ï¼Œè°¨é˜²ç½‘ç»œè¯ˆéª—ã€‚</p>
                </div>
                <div id="seal" class="seal">è¡ŒçŸ¥<br>æ¸…æœ—</div>
                <div style="margin-top:40px;">
                    <div id="signForm" style="display:flex; justify-content:center; gap:10px;">
                        <input type="text" id="signerName" class="input-box" style="width:200px; margin:0;" placeholder="è¯·è¾“å…¥å§“å">
                        <button class="btn" onclick="signPledge()">ç­¾ç½²è¯ä¹¦</button>
                    </div>
                    <div id="downloadArea" style="display:none; margin-top:20px;">
                        <p style="color:green; margin-bottom:10px;">ğŸ‰ ç­¾ç½²æˆåŠŸï¼</p>
                        <button class="btn btn-outline" onclick="generateCertificate()">ä¸‹è½½è£èª‰è¯ä¹¦</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="voice" style="background:#fff;">
        <div class="container">
            <div class="section-title"><h2>é’å¹´ä¹‹å£° Â· ç•™è¨€å¢™</h2><p>Speak Up</p></div>
            <div style="max-width:800px; margin:0 auto;">
                <div style="display:flex; gap:15px;">
                    <textarea id="commentInput" class="input-box" rows="3" placeholder="å‘è¡¨ä½ çš„è§‚ç‚¹..."></textarea>
                    <button class="btn" style="height:fit-content;" onclick="addComment()">å‘å¸ƒ</button>
                </div>
                <div class="message-wall" id="commentList">
                    <div style="text-align:center; padding:30px; color:#999;">è¿æ¥äº‘ç«¯æ•°æ®åº“...</div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="gallery">
        <div class="container">
            <div class="section-title"><h2>å…‰å½±è¶³è¿¹ Â· å…±å»ºé£é‡‡</h2><p>Activity Gallery</p></div>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                    <div class="gallery-overlay"><div class="gallery-title">ç†è®ºç ”è®¨ä¼š</div><div class="gallery-desc">è¡ŒçŸ¥å­¦å­æ·±å…¥å­¦ä¹ ç§‘å­¦å‘å±•è§‚å†…æ¶µã€‚</div></div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1531482615713-2afd69097998?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                    <div class="gallery-overlay"><div class="gallery-title">å®£è®²æ•™è‚²</div><div class="gallery-desc">è¿›ç­çº§å®£è®²ç½‘ç»œå®‰å…¨çŸ¥è¯†ã€‚</div></div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                    <div class="gallery-overlay"><div class="gallery-title">ç­¾ç½²ä»ªå¼</div><div class="gallery-desc">å¸ˆç”Ÿå…±åŒç­¾ç½²æ–‡æ˜å…¬çº¦ã€‚</div></div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1577563908411-5077b6dc7624?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                    <div class="gallery-overlay"><div class="gallery-title">åœ†æ¡Œè®¨è®º</div><div class="gallery-desc">å­¦ç”Ÿä»£è¡¨ç•…è°ˆç½‘ç»œæ²»ç†ã€‚</div></div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                    <div class="gallery-overlay"><div class="gallery-title">å¿—æ„¿æœåŠ¡</div><div class="gallery-desc">ååŠ©ç¤¾åŒºæ¸…ç†ä¸è‰¯ä¿¡æ¯ã€‚</div></div>
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&w=600&q=80" class="gallery-img">
                    <div class="gallery-overlay"><div class="gallery-title">å›¢é˜Ÿåˆå½±</div><div class="gallery-desc">è¡ŒçŸ¥æ¸…æœ—é¡¹ç›®ç»„å…¨ä½“æˆå‘˜ã€‚</div></div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="resources">
        <div class="container">
            <div class="section-title"><h2>å­¦ä¹ èµ„æºåº“</h2></div>
            <div class="resource-grid">
                <div class="resource-card">
                    <i class="fas fa-gavel" style="font-size:3rem; color:#e74c3c; margin-bottom:15px;"></i>
                    <h4>ç½‘ç»œå®‰å…¨æ³•</h4>
                    <p style="color:#666; font-size:0.9rem; margin-bottom:15px;">å›½å®¶ç½‘ä¿¡åŠå®˜æ–¹å…¨æ–‡å‘å¸ƒ</p>
                    <a href="https://www.cac.gov.cn/2016-11/07/c_1119867116.htm" class="btn btn-outline" target="_blank" style="font-size:0.8rem;">é˜…è¯»å…¨æ–‡</a>
                </div>
                <div class="resource-card">
                    <i class="fas fa-video" style="font-size:3rem; color:#3498db; margin-bottom:15px;"></i>
                    <h4>ç½‘ç»œå¼ºå›½è®ºè¿°</h4>
                    <p style="color:#666; font-size:0.9rem; margin-bottom:15px;">å­¦ä¹ å¼ºå›½é‡è¦è®ºè¿°æ‘˜ç¼–</p>
                    <a href="https://www.xuexi.cn/lgpage/detail/index.html?id=179923331428698591&item_id=179923331428698591" class="btn btn-outline" target="_blank" style="font-size:0.8rem;">ç«‹å³å­¦ä¹ </a>
                </div>
                <div class="resource-card">
                    <i class="fas fa-file-alt" style="font-size:3rem; color:#2ecc71; margin-bottom:15px;"></i>
                    <h4>æ–‡æ˜å»ºè®¾ä¸“é¢˜</h4>
                    <p style="color:#666; font-size:0.9rem; margin-bottom:15px;">æ–°åç½‘ç½‘ç»œæ–‡æ˜å»ºè®¾ä¸“é¢˜</p>
                    <a href="https://www.news.cn/20250611/3d2c70d82cba4c55854735a39ebb0baa/c.html" class="btn btn-outline" target="_blank" style="font-size:0.8rem;">æŸ¥çœ‹è¯¦æƒ…</a>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container" style="position:relative; z-index:2;">
            <h2 style="margin-bottom:20px; font-weight:900;">è¡ŒçŸ¥æ¸…æœ— E-SPACE é¡¹ç›®ç»„</h2>
            <p style="opacity:0.9;">æŒ‡å¯¼è€å¸ˆï¼šç‹å¨œ | æµ™æ±Ÿå¸ˆèŒƒå¤§å­¦è¡ŒçŸ¥å­¦é™¢</p>
            <div class="footer-tags">
                <span class="tag">é™ˆä½³å‡Œ</span>
                <span class="tag">é»„å¥•</span>
                <span class="tag">è¢ç’èŒœ</span>
                <span class="tag">é™†æ¥šç’‡</span>
            </div>
            <button class="to-top" onclick="window.scrollTo(0,0)"><i class="fas fa-arrow-up"></i> å›åˆ°é¡¶éƒ¨</button>
        </div>
    </footer>

    <div class="modal" id="linkModal">
        <div class="modal-content">
            <h3 style="color:var(--primary); margin-bottom:10px;">å³å°†è·³è½¬</h3>
            <p style="color:#666; margin-bottom:20px;">æ‚¨å³å°†ç¦»å¼€æœ¬å¹³å°å‰å¾€ï¼š<br><strong id="targetUrl" style="color:#0056b3; word-break:break-all;"></strong></p>
            <div style="display:flex; justify-content:center; gap:10px;">
                <button class="btn btn-outline" onclick="document.getElementById('linkModal').style.display='none'">å–æ¶ˆ</button>
                <button class="btn" onclick="confirmJump()">ç¡®è®¤è·³è½¬</button>
            </div>
        </div>
    </div>
    <div class="modal" id="msgModal">
        <div class="modal-content">
            <h3 id="msgTitle" style="color:var(--primary);">æç¤º</h3>
            <p id="msgContent" style="margin:15px 0;"></p>
            <button class="btn" onclick="document.getElementById('msgModal').style.display='none'">ç¡®å®š</button>
        </div>
    </div>

    <canvas id="certCanvas" width="800" height="600" style="display: none;"></canvas>

    <script>
        // 1. åˆå§‹åŒ–
        const APP_ID = "fUQlsmdwimD8CkUDvirxrOSz-MdYXbMMI";
        const APP_KEY = "vIP5C42sbdnnftyHFPj1y5mj";
        const SERVER_URL = "https://fuqlsmdw.api.lncldglobal.com";

        window.onload = function() {
            try {
                // LeanCloud
                const { Query, User } = AV;
                AV.init({ appId: APP_ID, appKey: APP_KEY, serverURL: SERVER_URL });
                loadComments();
            } catch(e) { console.error("LeanCloud error:", e); }

            initCharts(); 
            initQuiz();
            initStats();
            
            if(localStorage.getItem('xz_signed')) {
                document.getElementById('seal').classList.add('active');
                document.getElementById('signForm').style.display = 'none';
                document.getElementById('downloadArea').style.display = 'block';
            }
        };

        // 2. æ¯æ—¥ä¸€æµ‹ (10é“é¢˜ï¼Œè‡ªåŠ¨è·³è½¬)
        const questions = [
            {q: "ç§‘å­¦å‘å±•è§‚çš„ç¬¬ä¸€è¦ä¹‰æ˜¯ï¼Ÿ", opts: ["A. å…¨é¢åè°ƒå¯æŒç»­", "B. å‘å±•", "C. ç»Ÿç­¹å…¼é¡¾"], a: 1},
            {q: "ç§‘å­¦å‘å±•è§‚çš„æ ¸å¿ƒæ˜¯ï¼Ÿ", opts: ["A. å‘å±•", "B. ä»¥äººä¸ºæœ¬", "C. å…¨é¢åè°ƒå¯æŒç»­"], a: 1},
            {q: "ç§‘å­¦å‘å±•è§‚çš„åŸºæœ¬è¦æ±‚æ˜¯ï¼Ÿ", opts: ["A. ç»Ÿç­¹å…¼é¡¾", "B. å…¨é¢åè°ƒå¯æŒç»­", "C. å‘å±•"], a: 1},
            {q: "ç§‘å­¦å‘å±•è§‚çš„æ ¹æœ¬æ–¹æ³•æ˜¯ï¼Ÿ", opts: ["A. ç»Ÿç­¹å…¼é¡¾", "B. æ”¹é©å¼€æ”¾", "C. å…šçš„é¢†å¯¼"], a: 0},
            {q: "ç½‘ç»œå¼ºå›½æˆ˜ç•¥æŒ‡å‡ºï¼Œæ²¡æœ‰____å°±æ²¡æœ‰å›½å®¶å®‰å…¨ï¼Ÿ", opts: ["A. ç½‘ç»œå®‰å…¨", "B. ä¿¡æ¯åŒ–", "C. æŠ€æœ¯è¿›æ­¥"], a: 0},
            {q: "æ„å»ºç½‘ç»œç©ºé—´å‘½è¿å…±åŒä½“ï¼Œåº”åšæŒä»€ä¹ˆåŸåˆ™ï¼Ÿ", opts: ["A. å°Šé‡ç½‘ç»œä¸»æƒ", "B. éœ¸æƒä¸»ä¹‰", "C. å•è¾¹ä¸»ä¹‰"], a: 0},
            {q: "é‡åˆ°ç½‘ç»œè°£è¨€ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯ï¼Ÿ", opts: ["A. ç«‹å³è½¬å‘", "B. è¾±éª‚å‘å¸ƒè€…", "C. ä¸¾æŠ¥å¹¶ç­‰å¾…è¾Ÿè°£"], a: 2},
            {q: "ç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚åœ¨ç¤¾ä¼šå±‚é¢çš„è¦æ±‚æ˜¯ï¼Ÿ", opts: ["A. å¯Œå¼ºæ°‘ä¸»æ–‡æ˜å’Œè°", "B. è‡ªç”±å¹³ç­‰å…¬æ­£æ³•æ²»", "C. çˆ±å›½æ•¬ä¸šè¯šä¿¡å‹å–„"], a: 1},
            {q: "ç½‘ç»œå®‰å…¨æ³•è§„å®šï¼Œç½‘ç»œè¿è¥è€…åº”å½“åŠ å¼ºå¯¹å…¶ç”¨æˆ·å‘å¸ƒçš„ä¿¡æ¯çš„ç®¡ç†ï¼Œå‘ç°ç¦æ­¢ä¿¡æ¯åº”å½“ï¼Ÿ", opts: ["A. åœæ­¢ä¼ è¾“å¹¶å¤„ç½®", "B. è§†è€Œä¸è§", "C. ä»…ä¿å­˜è®°å½•"], a: 0},
            {q: "æ–‡æ˜ä¸Šç½‘è¦æ±‚æˆ‘ä»¬åšåˆ°ï¼Ÿ", opts: ["A. è¯šå®å‹å¥½äº¤æµ", "B. éšæ„å‘å¸ƒè¨€è®º", "C. ç›²ç›®è·Ÿé£"], a: 0}
        ];
        let qIndex = 0;
        function initQuiz() { renderQuiz(); }
        function renderQuiz() {
            const box = document.getElementById('quiz-box');
            if(qIndex >= questions.length) {
                box.innerHTML = `<div style="text-align:center;padding:40px;"><i class="fas fa-trophy" style="font-size:3rem;color:#d4af37"></i><h3 style="color:var(--primary);margin:20px 0;">é€šå…³ï¼</h3><button class="btn" onclick="qIndex=0;renderQuiz()">é‡æ–°æŒ‘æˆ˜</button></div>`;
                return;
            }
            const q = questions[qIndex];
            let html = `<h3 style="color:var(--primary);margin-bottom:15px;">æ¯æ—¥ä¸€æµ‹ (${qIndex+1}/10)</h3><p style="font-weight:bold;margin-bottom:20px;font-size:1.1rem;">${q.q}</p>`;
            q.opts.forEach((opt, idx) => {
                html += `<button class="quiz-btn" onclick="handleAns(${idx}, ${q.a}, this)">${opt}</button>`;
            });
            box.innerHTML = html;
        }
        function handleAns(c, a, btn) {
            const all = document.querySelectorAll('.quiz-btn');
            all.forEach(b=>b.disabled=true);
            if(c===a) {
                btn.style.background="#d4edda"; btn.style.borderColor="#28a745";
                setTimeout(()=>{ qIndex++; renderQuiz(); }, 800);
            } else {
                btn.style.background="#f8d7da"; btn.style.borderColor="#dc3545";
                setTimeout(()=>{ 
                    showModal("æç¤º", "å›ç­”é”™è¯¯ï¼Œè¯·é‡è¯•ï¼");
                    all.forEach(b=>{b.disabled=false; b.style.background=""; b.style.borderColor="#eee";});
                }, 500);
            }
        }

        // 3. å›¾è¡¨
        function initCharts() {
            new Chart(document.getElementById('chart-pie'), {
                type: 'doughnut',
                data: { labels: ['è°£è¨€', 'ç½‘æš´', 'è¯ˆéª—', 'å…¶ä»–'], datasets: [{ data: [40, 25, 20, 15], backgroundColor: ['#b71c1c', '#ffc107', '#2d3436', '#999'] }] },
                options: { maintainAspectRatio: false }
            });
            new Chart(document.getElementById('chart-bar'), {
                type: 'bar',
                data: { labels: ['å¤§ä¸€', 'å¤§äºŒ', 'å¤§ä¸‰', 'å¤§å››'], datasets: [{ label: 'å‚ä¸äººæ•°', data: [120, 150, 100, 80], backgroundColor: '#b71c1c' }] },
                options: { maintainAspectRatio: false }
            });
        }

        // 4. LeanCloud è¯„è®º
        function loadComments() {
            const wall = document.getElementById('commentList');
            const query = new AV.Query('RedComments');
            query.descending('createdAt');
            query.limit(20);
            query.find().then(res => {
                wall.innerHTML = "";
                if(res.length===0) { wall.innerHTML="<div style='text-align:center;padding:20px;color:#999;grid-column:1/-1'>æš‚æ— ç•™è¨€</div>"; return; }
                res.forEach(c => {
                    const card = document.createElement('div');
                    card.className = 'message-card';
                    card.innerHTML = `<div class="message-header"><div class="message-avatar" style="background:${getRandomColor()}">${c.get('name')[0]}</div><span style="font-weight:bold;">${c.get('name')}</span></div><div class="message-body">${c.get('content')}</div>`;
                    wall.appendChild(card);
                });
            }).catch(e => { console.log(e); wall.innerHTML="<div style='text-align:center;padding:20px;color:red;grid-column:1/-1'>è¿æ¥å¤±è´¥</div>"; });
        }
        function addComment() {
            const val = document.getElementById('commentInput').value.trim();
            if(!val) { showModal("æç¤º", "è¯·è¾“å…¥å†…å®¹"); return; }
            try {
                const C = AV.Object.extend('RedComments');
                const c = new C();
                c.set('name', localStorage.getItem('xz_name') || "çº¢è‰²ç½‘å‹");
                c.set('content', val);
                c.save().then(() => {
                    document.getElementById('commentInput').value="";
                    showModal("æˆåŠŸ", "å‘å¸ƒæˆåŠŸï¼");
                    loadComments();
                }, (e) => { showModal("å¤±è´¥", e.message); });
            } catch(e) { showModal("é”™è¯¯", "æœåŠ¡ä¸å¯ç”¨"); }
        }

        // 5. è¯ä¹¦ (å‡çº§ç‰ˆ)
        function generateCertificate() {
            const c = document.getElementById('certCanvas');
            const ctx = c.getContext('2d');
            const name = localStorage.getItem('xz_name') || "åŒå­¦";

            // èƒŒæ™¯
            ctx.fillStyle = "#fffcf5";
            ctx.fillRect(0, 0, 800, 600);

            // è¾¹æ¡†
            ctx.strokeStyle = "#b71c1c"; ctx.lineWidth = 15; ctx.strokeRect(10, 10, 780, 580);
            ctx.strokeStyle = "#d4af37"; ctx.lineWidth = 3; ctx.strokeRect(30, 30, 740, 540);

            // æ°´å°
            ctx.font = "bold 100px 'Kaiti'"; ctx.fillStyle = "rgba(183, 28, 28, 0.05)";
            ctx.textAlign = "center";
            ctx.save(); ctx.translate(400, 300); ctx.rotate(-Math.PI / 6);
            ctx.fillText("è¡ŒçŸ¥æ¸…æœ—", 0, 0); ctx.restore();

            // æ–‡å­—
            ctx.fillStyle = "#b71c1c"; ctx.font = "bold 48px 'SimSun'"; ctx.fillText("è£èª‰è¯ä¹¦", 400, 130);
            ctx.fillStyle = "#333"; ctx.font = "30px 'Kaiti'";
            ctx.fillText("æˆäºˆï¼š " + name + " åŒå­¦", 400, 240);
            ctx.font = "24px 'Kaiti'"; ctx.fillStyle = "#555";
            ctx.fillText("é‰´äºæ‚¨ç§¯æå‚ä¸â€œè¡ŒçŸ¥æ¸…æœ—â€ç½‘ç»œæ–‡æ˜å…±å»ºæ´»åŠ¨ï¼Œ", 400, 310);
            ctx.fillText("ç‰¹é¢å‘æ­¤è¯ï¼Œä»¥èµ„é¼“åŠ±ã€‚", 400, 360);

            // è½æ¬¾
            ctx.textAlign = "right"; ctx.font = "bold 20px 'SimSun'"; ctx.fillStyle = "#333";
            ctx.fillText("è¡ŒçŸ¥æ¸…æœ— E-SPACE é¡¹ç›®ç»„", 720, 480);
            ctx.fillText("2024å¹´", 720, 520);

            // çº¢ç« 
            ctx.beginPath(); ctx.arc(650, 490, 60, 0, Math.PI * 2);
            ctx.strokeStyle = "rgba(211, 47, 47, 0.7)"; ctx.lineWidth = 4; ctx.stroke();
            ctx.save(); ctx.translate(650, 490); ctx.rotate(-Math.PI / 8);
            ctx.font = "20px 'SimSun'"; ctx.fillStyle = "rgba(211, 47, 47, 0.7)"; ctx.textAlign = "center";
            ctx.fillText("â˜…", 0, 10); ctx.restore();

            const a = document.createElement('a'); a.download = name + "_è¯ä¹¦.png"; a.href = c.toDataURL(); a.click();
        }

        // 6. è¾…åŠ©
        function initStats() { let v=2024; setInterval(()=>{v++;document.getElementById('visitCount').innerText=v;},5000); }
        function signPledge() {
            const n=document.getElementById('signerName').value;
            if(!n){showModal("æç¤º","è¯·å¡«å†™å§“å");return;}
            localStorage.setItem('xz_name',n);
            localStorage.setItem('xz_signed','true');
            document.getElementById('seal').classList.add('active');
            document.getElementById('signForm').style.display='none';
            document.getElementById('downloadArea').style.display='block';
            showModal("æˆåŠŸ","ç­¾ç½²æˆåŠŸï¼");
        }
        function showModal(t,m){ document.getElementById('msgTitle').innerText=t; document.getElementById('msgContent').innerText=m; document.getElementById('msgModal').style.display='flex'; }
        function getRandomColor(){ return ['#b71c1c','#f57f17','#1976d2'][Math.floor(Math.random()*3)]; }
        
        // æ‹¦æˆª
        let targetLink=""; document.addEventListener('click',e=>{ 
            if(e.target.classList.contains('quiz-btn')||e.target.closest('#voice'))return; 
            const l=e.target.closest('a'); 
            if(l&&l.href.startsWith('http')){ e.preventDefault(); targetLink=l.href; document.getElementById('targetUrl').innerText=l.href; document.getElementById('linkModal').style.display='flex'; } 
        });
        function confirmJump(){ window.open(targetLink,'_blank'); document.getElementById('linkModal').style.display='none'; }
    </script>
</body>
</html>